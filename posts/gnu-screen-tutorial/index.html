<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>GNU Screen Tutorial -</title><script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="GNU Screen Tutorial"><meta property="og:description" content="概念  会话, screen 有自己的会话的概念, 当你运行 screen 命令后, 你就启动了一个 &ldquo;会话&rdquo;. 下文中的&#34;会话&#34;都是指 screen 会话. 窗口, 每一个会话可以包含一至多个窗口, 在每一个窗口中, 你可以做单独的工作. 比如说在窗口1 中开着 vim 写作, 在窗口2 中运行 netstat 监控网络, 而第三个窗口保持 bash shell 不做其他的事  默认情况下, 当你运行 screen 之后, screen 将为你建立一个会话, 并且为你建立一个默认的窗口, 并且, 为你在这个窗口中运行 bash shell.
优点 使用 screen 的优点是很多的, 尤其是你需要 ssh 登录到远程主机进行工作的时候, screen 可以帮助你使你即使从远程主机退出了, 你的工作也能够继续, 这是其一, 另一点就是它可以帮你&#34;节省终端&#34; - 当你需要登录远程做多个工作的时候, 你不必开多个终端分别 ssh 登录远程, 然后分别做各自的工作. 这在 多个窗口 这一节会分析.
运行 screen 只需要简单的执行 screen 命令:
$ screen  一般来说, 你会看到一屏关于 screen 程序的介绍和版权信息, 根据按空格或回车就能跳过."><meta property="og:type" content="article"><meta property="og:url" content="https://cifer76.github.io/posts/gnu-screen-tutorial/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-01-13T00:00:00+00:00"><meta property="article:modified_time" content="2014-01-13T00:00:00+00:00"><meta itemprop=name content="GNU Screen Tutorial"><meta itemprop=description content="概念  会话, screen 有自己的会话的概念, 当你运行 screen 命令后, 你就启动了一个 &ldquo;会话&rdquo;. 下文中的&#34;会话&#34;都是指 screen 会话. 窗口, 每一个会话可以包含一至多个窗口, 在每一个窗口中, 你可以做单独的工作. 比如说在窗口1 中开着 vim 写作, 在窗口2 中运行 netstat 监控网络, 而第三个窗口保持 bash shell 不做其他的事  默认情况下, 当你运行 screen 之后, screen 将为你建立一个会话, 并且为你建立一个默认的窗口, 并且, 为你在这个窗口中运行 bash shell.
优点 使用 screen 的优点是很多的, 尤其是你需要 ssh 登录到远程主机进行工作的时候, screen 可以帮助你使你即使从远程主机退出了, 你的工作也能够继续, 这是其一, 另一点就是它可以帮你&#34;节省终端&#34; - 当你需要登录远程做多个工作的时候, 你不必开多个终端分别 ssh 登录远程, 然后分别做各自的工作. 这在 多个窗口 这一节会分析.
运行 screen 只需要简单的执行 screen 命令:
$ screen  一般来说, 你会看到一屏关于 screen 程序的介绍和版权信息, 根据按空格或回车就能跳过."><meta itemprop=datePublished content="2014-01-13T00:00:00+00:00"><meta itemprop=dateModified content="2014-01-13T00:00:00+00:00"><meta itemprop=wordCount content="303"><meta itemprop=keywords content="gnu screen,linux,"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-48551763-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title=狂想曲 rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/logo.png></div><div class="logo__item logo__text"><div class=logo__title>狂想曲</div><div class=logo__tagline>勇敢的灵魂追寻本我</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/investing><span class=menu__text>How to Invest</span></a></li><li class=menu__item><a class=menu__link href=/how-to-learn><span class=menu__text>How to learn new things</span></a></li><li class=menu__item><a class=menu__link href=/reading><span class=menu__text>Readings</span></a></li><li class=menu__item><a class=menu__link href=/eight-part-essay><span class=menu__text>SKILLS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>GNU Screen Tutorial</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-01-13T00:00:00Z>2014-01-13</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/linux/ rel=category>Linux</a></span></div></div></header><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#概念>概念</a></li><li><a href=#优点>优点</a></li><li><a href=#运行-screen>运行 screen</a></li><li><a href=#会话之中>会话之中</a><ul><li><a href=#多个窗口>多个窗口</a></li><li><a href=#多显示区域>多显示区域</a></li></ul></li><li><a href=#会话之外>会话之外</a><ul><li><a href=#脱离detach会话>脱离(detach)会话</a></li><li><a href=#列出存在的-screen-会话>列出存在的 screen 会话</a></li><li><a href=#依附到retach会话>依附到(retach)会话</a></li></ul></li><li><a href=#退出-screen>退出 screen</a></li></ul></nav></div></div><div class="content post__content clearfix"><h2 id=概念>概念</h2><ul><li><strong>会话</strong>, screen 有自己的会话的概念, 当你运行 <code>screen</code> 命令后, 你就启动了一个 &ldquo;会话&rdquo;. 下文中的"会话"都是指 screen 会话.</li><li><strong>窗口</strong>, 每一个会话可以包含一至多个窗口, 在每一个窗口中, 你可以做单独的工作. 比如说在窗口1 中开着 vim 写作, 在窗口2 中运行 netstat 监控网络, 而第三个窗口保持 bash shell 不做其他的事</li></ul><p>默认情况下, 当你运行 <code>screen</code> 之后, screen 将为你建立一个会话, 并且为你建立一个默认的窗口, 并且, 为你在这个窗口中运行 bash shell.</p><h2 id=优点>优点</h2><p>使用 screen 的优点是很多的, 尤其是你需要 ssh 登录到远程主机进行工作的时候, screen 可以帮助你使你即使从远程主机退出了, 你的工作也能够继续, 这是其一, 另一点就是它可以帮你"节省终端" - 当你需要登录远程做多个工作的时候, 你不必开多个终端分别 ssh 登录远程, 然后分别做各自的工作. 这在 <em>多个窗口</em> 这一节会分析.</p><h2 id=运行-screen>运行 screen</h2><p>只需要简单的执行 <code>screen</code> 命令:</p><pre><code>$ screen
</code></pre><p>一般来说, 你会看到一屏关于 screen 程序的介绍和版权信息, 根据按空格或回车就能跳过. 此时, 你便处于 screen 的"会话中"了, 之所以要加引号是因为你还可以处于会话之外, 稍候会提到.</p><h2 id=会话之中>会话之中</h2><p>当你处于会话之中的时候, 你需要一种特殊的指令格式来给 screen 会话下达指令, 这种特殊的格式就是每当你想下达指令时, 你要先按一下 &ldquo;Command Key&rdquo;, &ldquo;Command Key&rdquo; 在 screen 中被默认设定为 ^A(Ctrl-A), 也就是说, 每一步操作你都要先按一下 ^A. 比如想新建一个窗口, 那么就需要按下 <code>Ctrl-a, c</code>.</p><p>处于会话中时, 你可以对 screen 会话下达的指令很多, 你可以通过 <code>Ctrl-A, ?</code> 来列出所有可以执行的指令.</p><h3 id=多个窗口>多个窗口</h3><p>默认情况下, 当你开启一个 screen 会话后, 会话中是只有一个窗口的, 拥有多个窗口可以为我们带来极大的方便, 尤其是在用 ssh 登录到远程主机的时候. 比如说我们需要登录到远程主机同时开着 iostat 和 netstat 来实时监控远程主机的运行状态. 我们有如下两种方式:</p><ul><li><p>如果不使用 screen, 我们就需要开两个终端, 运行两次 ssh 登录到远程, 然后一个终端运行 <code>iostat</code>, 另一个终端运行 <code>netstat</code>;</p><p>这种方式无疑要麻烦许多, 你要登录两次远程, 还浪费了你本地的终端&mldr;</p></li><li><p>如果我们使用 screen 但是不使用多窗口, 我们固然可以只开一个终端 ssh 到远程, 然后开一个 screen 会话, 运行 <code>iostat</code>, 然后 detach 这个会话(后面介绍), 再开一个 screen 会话, 运行 <code>netstat</code>.</p><p>这种方式比上面那种好不了多少, 甚至更差, 因为你没法同时检测磁盘运行和网络运行状况, 你要查看磁盘运行, 就要 detach 掉运行 <code>netstat</code> 的那个 screen 会话, retach 到运行 <code>iostat</code> 的那个会话, 反之亦然.</p></li></ul><p>然而当你在一个会话中使用多窗口后, 一切都变得那么优雅, 而创建新的窗口又是那么的简单, 下面我们来看一下与窗口相关的几个指令:</p><ul><li><code>Ctrl-A, c</code>, 创建一个新的窗口, 以这种方式创建的窗口会默认的运行 bash shell</li><li><code>Ctrl-A, w</code>, 显示会话中的所有窗口, 会显示窗口的标号, 当前的窗口会以星号标识</li><li><code>Ctrl-A, 0</code>/<code>Ctrl-A, 1</code>&mldr;, 切换到标号为 0/1 的窗口</li><li><code>Ctrl-A, "</code>, 显示会话中的所有窗口, 并且可以通过方向键和回车键选择切换窗口</li><li><code>Ctrl-A, p</code>/<code>Ctrl-A, n</code>, 切换到前一个/后一个窗口</li></ul><p>如此一来, 我们就可以在一个窗口中运行 iostat, 然后 <code>Ctrl-A, c</code> 创建另一个窗口运行 <code>netstat</code>, 不过慢着, 以这种方式创建出来的新窗口, 其显示区域是会覆盖之前的窗口的, 这样一来, 岂不是也不能同时查看 <code>iostat</code> 和 <code>netstat</code> 的监控情况吗? 别急, screen 还有另一个功能.</p><h3 id=多显示区域>多显示区域</h3><p>我觉得 screen 最方便的地方就是支持将会话分成多个显示区域, 并且每个显示区域都可以显示任意的一个窗口.</p><p>我们可以在会话中创建两个窗口, 分别运行 iostat 和 netstat, 然后将会话分成左右两个显示区域, 每个区域显示一个窗口的内容, perfect right?</p><ul><li><code>Ctrl-A, S</code>, 水平分割会话中的显示区域</li><li><code>Ctrl-A, |</code>, 垂直分割</li><li><code>Ctrl-A, TAB</code>, 切换到下一个显示区域</li></ul><p>分割出来的新的显示区域默认是什么都不运行也什么都不显示的, 我们可以在切换到新的显示区域后, 结合 <code>Ctrl-A, n</code>/<code>Ctrl-A, p</code>/<code>Ctrl-A, 0</code>/<code>Ctrl-A, "</code> 来让这个新的区域显示已有的窗口, 通过 <code>Ctrl-A, c</code> 等来在这个区域新建一个窗口(并运行 bash shell).</p><h2 id=会话之外>会话之外</h2><h3 id=脱离detach会话>脱离(detach)会话</h3><p>当我们按下 <code>Ctrl-A, d</code>, 我们就能够从会话中脱离, 这也就使我们回到了正常的 shell 环境中.</p><h3 id=列出存在的-screen-会话>列出存在的 screen 会话</h3><p>命令 <code>$ screen -ls</code> 能够列出当前系统中存在的会话, 这会显示出会话的名字.</p><h3 id=依附到retach会话>依附到(retach)会话</h3><p>命令 <code>$ screen -r [session_name]</code> 可以是我们依附到某个存在的会话中. 我们可以先使用 <code>screen -ls</code> 获得当前的会话列表, 然后依附到某个会话.</p><h2 id=退出-screen>退出 screen</h2><p>在会话中的 shell 提示符下输入 <code>exit</code> 命令就可以退出会话, 不过, 如果你开了多个窗口, 那么每执行一次 <code>exit</code>, 只是会退出一个窗口, 直到最后一个窗口退出, 会话才会退出.</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/gnu-screen/ rel=tag>gnu screen</a></li><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>linux</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><div class=authorbox__header><span class=authorbox__name>About Cifer</span></div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/posts/pcduino-getting-started/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>初入 pcDuino</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/posts/rhel-server-migrate-to-centos/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>从 Redhat Enterprise Linux 迁移到 CentOS (让 RHEL 使用 CentOS 的源)</p></a></div></nav><section class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//justforfree.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 Cifer.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>