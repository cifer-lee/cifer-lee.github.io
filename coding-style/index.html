<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Cifer"><title>代码风格 ｜ 编程笔记</title><meta name=description content="以下几点关于 C 语言编程的风格是我一直贯彻执行的. 常用的逻辑功能写成宏 (如经常性地判断值是否合法, 省去众多冗长的 if) 今后的代码风格: 所有变量， 放在最前面声明， 而不是用到时再声明 (C89 风格) 变量名尽量短小精悍，"><link rel="shortcut icon" href=https://cifer97.github.io/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=https://cifer97.github.iocss/normalize.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css><link rel=stylesheet type=text/css media=screen href=https://cifer97.github.io/css/zozo.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=https://cifer97.github.io/css/highlight.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=https://cifer97.github.io><span>编程笔记</span></a></h1></div><div class=description><p class=sub_title></p><div class=my_socials><a href=https://cifer97.github.io/index.xml type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/coding-style/>代码风格</a></h2><span class=date>0001.01.01</span></div><div class="post_content markdown"><p>以下几点关于 C 语言编程的风格是我一直贯彻执行的.</p><ul><li>常用的逻辑功能写成宏 (如经常性地判断值是否合法, 省去众多冗长的 if)</li><li>今后的代码风格: 所有变量， 放在最前面声明， 而不是用到时再声明 (C89 风格)</li><li>变量名尽量短小精悍， 能不用下划线就不用</li><li>Always use struct tag, don&rsquo;t use typedef in struct definition</li><li>Always write pointer form when passing array to function &ndash; from Expert C Programming, section 9.3</li><li>Always using deferencing pointer form when call function by function pointer</li><li>sizeof 的参数不是类型关键字时, 不用加括号</li><li>对象 (如结构或数组) 在声明时初始化时, 初始化列表最后可以多跟一个逗号. 这在标准里有说到, K&R A.8.7. 原因参见这里: <a href=http://stackoverflow.com/questions/7043372/int-a-1-2-weird-comma-allowed-any-particular-reason>http://stackoverflow.com/questions/7043372/int-a-1-2-weird-comma-allowed-any-particular-reason</a></li><li>但是在 enum 声明中, c89 标准中不允许最后一个 enumrator 后多跟一个逗号的. 但是很多编译器 (如 gcc) 扩展准许这么做, 在 gcc 中, 要完全遵循 c89, 需要 -std=c89 -pedantic 两个选项都加上</li><li>可以学习 FreeRTOS, 以后设计什么模块的时候, 不要给用户提供什么 init 函数, 直接给用户暴露干正事的接口, 模块初始化之类的工作在内部隐式的完成</li></ul></div><div class=post_footer></div></div><div class=doc_comments></div></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span></span></div></footer><script src=https://cifer97.github.io/js/jquery-3.5.1.min.js></script><link href=https://cifer97.github.io/css/fancybox.min.css rel=stylesheet><script src=https://cifer97.github.io/js/fancybox.min.js></script><script src=https://cifer97.github.io/js/zozo.js></script></body></html>